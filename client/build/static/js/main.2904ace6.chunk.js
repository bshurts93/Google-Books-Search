(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){},23:function(e,t,a){e.exports=a(54)},29:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),c=a(60),i=a(58),s=a(61),m=a(59),u=a(6),d=a(7),v=a(11),E=a(8),h=a(12);a(29);var f=function(e){var t=e.children;return r.a.createElement("div",{className:"jumbotron"},t)},b=a(5),p=a.n(b),k={getAllBooks:function(){return p.a.get("/api/books")},getBook:function(e){return p.a.get("/api/books/"+e)},deleteBook:function(e){return p.a.delete("/api/books/"+e)},saveBook:function(e){return p.a.post("/api/books",e)},parseApiData:function(e){var t=[];return e.forEach(function(e){var a=e.volumeInfo,n={id:e.id,title:a.title,author:a.authors,description:a.description,image:a.imageLinks.thumbnail,link:a.infoLink};void 0===a.authors?n.author="N/A":n.author=a.authors.join(", "),t.push(n)}),t}};function g(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function N(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function y(e){var t=e.size,a=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}a(48);function j(e){var t=e.children;return r.a.createElement("div",{className:"container-fluid"},t)}function B(e){var t=e.children;return r.a.createElement("div",{className:"book-list-item"},t)}a(49);function w(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control"},e)))}function A(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}a(50);var O=function(e){var t=e.text;return r.a.createElement("div",{className:"header text-center"},r.a.createElement("div",{class:"row h-100"},r.a.createElement("div",{id:"col",class:"col-md-12 my-auto"},r.a.createElement("h1",null,t))))},S=(a(20),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.searchForBooks=function(e){e.preventDefault();var t=document.querySelector(".form-group input").value;fetch("https://www.googleapis.com/books/v1/volumes?q="+t).then(function(e){return e.json()}).then(function(e){console.log(e.items),a.setState({books:k.parseApiData(e.items)})})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,{text:"Search"}),r.a.createElement(g,{fluid:!0},r.a.createElement(N,null,r.a.createElement(y,{size:"md-12"},r.a.createElement("form",{className:"search-bar"},r.a.createElement("div",{className:"row"},r.a.createElement(y,{size:"md-10"},r.a.createElement(w,null)),r.a.createElement(y,{size:"md-2"},r.a.createElement(A,{onClick:this.searchForBooks},"Search")))))),r.a.createElement(N,null,r.a.createElement(y,{size:"md-12"},r.a.createElement(f,null,this.state.books.length?r.a.createElement(j,null,this.state.books.map(function(e){return r.a.createElement(B,{key:e.id},r.a.createElement(N,null,r.a.createElement(y,{size:"md-12"}," ",r.a.createElement("h4",null,e.title," - ",e.author),r.a.createElement("hr",null))),r.a.createElement(N,{className:"img-desc"},r.a.createElement(y,{size:"md-1"},r.a.createElement("img",{src:e.image,alt:"book-thumbnail"})),r.a.createElement(y,{size:"md-11"},r.a.createElement("div",{className:"description"},r.a.createElement("p",null,e.description),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return k.saveBook(e)}},"Save"),r.a.createElement("a",{href:e.link,className:"btn btn-primary"},"See More")))))})):r.a.createElement(j,null,r.a.createElement("h3",{className:"text-center"},"Search to see books")))))))}}]),t}(n.Component)),x=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.loadAllBooks()}},{key:"loadAllBooks",value:function(){var e=this;k.getAllBooks().then(function(t){return e.setState({books:t.data},function(){console.log(e.state)})})}},{key:"deleteBook",value:function(e){var t=this;k.deleteBook(e),fetch("/books/"+e,{method:"DELETE",body:JSON.stringify({id:e})}).then(function(e){e.json(),console.log("DELETED"),t.loadAllBooks()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(O,{text:"Saved"}),r.a.createElement(g,{fluid:!0},r.a.createElement(N,null,r.a.createElement(y,{size:"md-12"},r.a.createElement(f,null,this.state.books.length?r.a.createElement(j,null,this.state.books.map(function(t){return r.a.createElement(B,{key:t._id},r.a.createElement("h4",null,t.title," by ",t.author),r.a.createElement("button",{className:"btn btn-danger","data-id":t._id,onClick:function(){return e.deleteBook(t._id)}},"Delete"))})):r.a.createElement(j,null,r.a.createElement("h3",{className:"text-center"},"Go to the search page to find and save books")))))))}}]),t}(n.Component);var z=function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books Library"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(i.a,{to:"/search",className:"nav-item nav-link active",href:"#"},"Search ",r.a.createElement("span",{className:"sr-only"},"(current)")),r.a.createElement(i.a,{to:"/saved",className:"nav-item nav-link active",href:"#"},"Saved")))),r.a.createElement(m.a,null,r.a.createElement(s.a,{path:"/search",exact:!0,component:S}),r.a.createElement(s.a,{path:"/saved",component:x}),r.a.createElement(s.a,{path:"/",component:S}))))))};o.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.2904ace6.chunk.js.map